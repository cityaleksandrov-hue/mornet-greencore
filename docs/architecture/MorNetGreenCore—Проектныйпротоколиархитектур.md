# MorNet / GreenCore ‚Äî –ü—Ä–æ–µ–∫—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v1.4.0

**–î–∞—Ç–∞:** 15.10.2025

**–ì–æ—Ä–∏–∑–æ–Ω—Ç:** –¥–æ —è–Ω–≤–∞—Ä—è 2026

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:** –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞ –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã (–¥–∏–∑–∞–π–Ω–µ—Ä—ã, –∏–Ω–∂–µ–Ω–µ—Ä—ã, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã, –±–ª–æ–∫—á–µ–π–Ω, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç—ã, —Ç—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –±–∞–Ω–∫‚Äë–ø–∞—Ä—Ç–Ω—ë—Ä—ã, –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è, —é—Ä–∏—Å—Ç—ã, DevOps, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ).

---

## 1) –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:** —è–¥—Ä–æ –º–æ—Ä—Ñ–æ–≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ç–∏ (MorNet) –¥–ª—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã GreenCore: —É—á—ë—Ç —ç–Ω–µ—Ä–≥–∏–∏ (kWh‚Äëonly), —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è (E‚ÄëToken, –¥–∞–ª–µ–µ ‚Äî ¬´E¬ª), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω–¥–µ–∫—Å‚Äë—Ç–æ–∫–µ–Ω **GCM**, –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ/—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –æ–±–º–µ–Ω–Ω–∏–∫, —à–ª—é–∑ –±–∞–Ω–∫–∞/–¶–§–ê/CBDC, –ø—Ä–∞–≤–æ–≤–æ–π –∫–æ–Ω—Ç—É—Ä **GC‚ÄëGuard**, –ø—É–±–ª–∏—á–Ω—ã–µ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

**–î–ª—è –∫–æ–≥–æ:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏–Ω–≤–µ—Å—Ç–æ—Ä—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤, —Ä–µ–≥–∏–æ–Ω—ã –∏ –±–∞–Ω–∫‚Äë–ø–∞—Ä—Ç–Ω—ë—Ä—ã.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞ (—ç–Ω–µ—Ä–≥–∏—è ‚Üí —Ç–æ–∫–µ–Ω ‚Üí —Å–µ—Ä–≤–∏—Å ‚Üí –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å), –≥–æ—Ç–æ–≤–∞—è –∫ –ø–∏–ª–æ—Ç—É –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## 2) –û–±—ä—ë–º –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ (MVP, kWh‚Äëonly)

- –°–±–æ—Ä **—Ç–æ–ª—å–∫–æ kWh** –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ 15 –º–∏–Ω—É—Ç –æ—Ç Electrostation Node (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ/—Ä–µ–∞–ª—å–Ω—ã–µ).
- –†–∞—Å—á—ë—Ç **E_netWh** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: boundary meter; fallback: gen‚àíaux‚àíloss√ók_safety).
- **Mint E‚ÄëToken** (ERC‚Äë1155 batch per interval), —É—á—ë—Ç –≤ –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–µ DAO Treasury.
- **GCM** –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω–¥–µ–∫—Å‚Äë—Ç–æ–∫–µ–Ω (—É—á—ë—Ç/—Ä–∞—Å—á—ë—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã).
- **–û–±–º–µ–Ω–Ω–∏–∫**: –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä—ã (E‚ÜîGCM, GCM‚Üî—Ñ–∏–∞—Ç —á–µ—Ä–µ–∑ –±–∞–Ω–∫‚Äë—à–ª—é–∑).
- **GC‚ÄëGuard**: KYC/KYB/AML, –∂—É—Ä–Ω–∞–ª—ã, –ø–æ–ª–∏—Ç–∏–∫–∏ –º–∏–Ω—Ç–∞/—Ä–µ–∑–µ—Ä–≤–æ–≤, MRV‚Äë–æ—Ç—á—ë—Ç—ã.
- **UI**:
    - Admin App (Vue 3 + Naive UI): —Å—Ç–∞–Ω—Ü–∏–∏, —Ç–æ–∫–µ–Ω—ã, –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ, GC‚ÄëGuard.
    - Public App (React + Next.js): –∫–∞–±–∏–Ω–µ—Ç –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∏—Ç—Ä–∏–Ω—ã, DAO.
- **Demo/Live Switch**: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é (REST + Modbus TCP/RTU).

---

## 3) –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ)

- **Frontend (–≥–∏–±—Ä–∏–¥):**
    - **Admin (Vue 3 + Naive UI)** ‚Äî –∑–∞–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç—É—Ä: –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏, –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ, GC‚ÄëGuard.
    - **Public (React + Next.js)** ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç—É—Ä: –∫–∞–±–∏–Ω–µ—Ç, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å/NFT, DAO, SSR/SEO.
- **API Gateway:** REST/gRPC, auth, rate‚Äëlimit, –≤–∞–ª–∏–¥–∞—Ü–∏—è (Zod), OpenAPI.
- **Core Services (NestJS):** Identity/SSO, Wallet, Token Engine, DAO Treasury, Exchange Router, Bank/CBDC Gateway, GC‚ÄëGuard Adapter, Analytics.
- **Messaging:** MQTT (—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è), RabbitMQ (–¥–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è).
- **Data:** PostgreSQL + TimescaleDB (–ø—Ä–æ—Ñ–∏–ª–∏ —ç–Ω–µ—Ä–≥–∏–∏), Redis (–∫—ç—à), WORM‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–∞—É–¥–∏—Ç).
- **Blockchain:** Oracle Service ‚Üí **Smart Contracts (EVM, ERC‚Äë1155/20)** ‚Üí Indexer.
- **Edge (Electrostation Node):** SCADA/PLC, Modbus RTU/TCP, Edge‚Äë–∞–≥–µ–Ω—Ç (Linux ARM64), –æ—Ñ–ª–∞–π–Ω‚Äë–±—É—Ñ–µ—Ä, TLS/–ì–û–°–¢.
- **Security/Compliance:** TLS/mTLS, –°–ö–ó–ò/–ì–û–°–¢ (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ), KYC/AML, –ø–æ–ª–∏—Ç–∏–∫–∏ –º–∏–Ω—Ç–∞/—Ä–µ–∑–µ—Ä–≤–æ–≤, MRV.

---

## 4) –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —è–¥—Ä–∞ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

| –ú–æ–¥—É–ª—å | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã |
| --- | --- | --- |
| **Identity/SSO** | –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏/—Ä–æ–ª–∏ (RBAC), SSO –¥–ª—è –æ–±–æ–∏—Ö —Ñ—Ä–æ–Ω—Ç–æ–≤ | /auth/*, OAuth2/JWT |
| **Wallet Service** | –∫–æ—à–µ–ª—å–∫–∏ (custodial/non‚Äëcustodial), –ø–æ–¥–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | /wallet/* |
| **Token Engine** | —É—á—ë—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ä–∞—Å—á—ë—Ç **E_netWh**, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∏–Ω—Ç–∞ | /telemetry/intervals, /token/prepare |
| **Oracle Service** | –ø–æ–¥–ø–∏—Å—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, –∞–Ω—Ç–∏‚Äë–¥—É–±–ª—å | /oracle/sign |
| **DAO Treasury** | –º–∏–Ω—Ç/—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ/—Ä–µ–∑–µ—Ä–≤—ã, –æ—Ç—á—ë—Ç—ã | /treasury/* |
| **Exchange Router** | –ø–∞—Ä—ã E‚ÜîGCM, GCM‚Üî—Ñ–∏–∞—Ç | /exchange/* |
| **Bank/CBDC Gateway** | –ø–ª–∞—Ç–µ–∂–∏, P2P/—ç—Å–∫—Ä–æ—É, API –±–∞–Ω–∫–∞ | /bank/* |
| **GC‚ÄëGuard Adapter** | KYC/KYB/AML, –ø–æ–ª–∏—Ç–∏–∫–∏, –∞—É–¥–∏—Ç | /gcguard/* |
| **Analytics/Reports** | KPI, ESG/MRV, —ç–∫—Å–ø–æ—Ä—Ç PDF/CSV | /analytics/* |

---

## 5) –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö (—è–¥—Ä–æ)

1. Electrostation ‚Üí (MQTT/REST) ‚Üí **Token Engine** ‚Üí **Oracle** ‚Üí **Smart Contract** ‚Üí **DAO Treasury**.
2. DAO Treasury ‚Üî **Exchange Router** ‚Üî **Bank/CBDC** (—Ñ–∏–∞—Ç‚Äë—à–ª—é–∑, —ç—Å–∫—Ä–æ—É).
3. –í—Å–µ —Å–æ–±—ã—Ç–∏—è ‚Üí **GC‚ÄëGuard** (KYC/AML/MRV, –ø—Ä–∞–≤–æ–≤—ã–µ –∂—É—Ä–Ω–∞–ª—ã).
4. UI (Admin/Public) ‚Üî **API Gateway** ‚Üî Core Services.

---

## 6) –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–∫—Ä–∞—Ç–∫–æ)

- **Admin UI:** Vue 3, Naive UI, Pinia, Vite
- **Public UI:** React (Next.js), Wagmi/ethers.js, Zustand, Recharts
- **Backend:** Node.js + TypeScript (NestJS –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã), Fastify, Zod
- **Data:** PostgreSQL + TimescaleDB, Redis
- **Messaging:** MQTT, RabbitMQ
- **Blockchain:** EVM (Hardhat, OpenZeppelin), ERC‚Äë1155/20, Indexer
- **Security:** TLS/mTLS, –°–ö–ó–ò/–ì–û–°–¢ (–≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è), HSM, WORM‚Äë–ª–æ–≥
- **DevOps:** Docker, Kubernetes, Helm, GitHub Actions, ArgoCD
- **Observability:** Prometheus, Grafana, Loki/ELK, Jaeger

---

## 7) –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–µ—à–µ–Ω–∏–π (—Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–µ)

- **–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ñ—Ä–æ–Ω—Ç**: Admin ‚Äî Vue 3, Public ‚Äî React/Next.js.
- **kWh‚Äëonly MVP**: –∏–Ω—Ç–µ—Ä–≤–∞–ª 15 –º–∏–Ω; –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ E_meter; fallback —Å k_safety.
- **E = ERC‚Äë1155** (batch per interval), **GCM = ERC‚Äë20**.
- **Demo/Live Switch** —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ API –∏ Edge‚Äë–∞–≥–µ–Ω—Ç–∞.
- **–ë–∞–Ω–∫‚Äë—à–ª—é–∑**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ REST/ISO‚Äë20022 —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–∞–Ω–∫–∞‚Äë–ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–ø–µ—Å–æ—á–Ω–∏—Ü–∞ ‚Üí –ø—Ä–æ–¥—É–∫—Ç–∏–≤).
- **–¢–∏–∫–µ—Ä—ã –æ–±–º–µ–Ω–Ω–∏–∫–∞**: 1/3/5/7 —Å–µ–∫ (WebSocket), backpressure –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ.
- **–ë–µ–∑ ‚ÄúRUBx‚Äù –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Ä–º–∏–Ω ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–æ–∫–µ–Ω¬ª/¬´token¬ª.

---

## 8) –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (–¥–æ —è–Ω–≤–∞—Ä—è 2026)

### –û–∫—Ç—è–±—Ä—å 2025 (16‚Äì31)

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏/–º–æ–Ω–æ—Ä–µ–ø–æ (Turborepo/Nx), –±–∞–∑–æ–≤–∞—è CI/CD.
- OpenAPI –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —Å—Ö–µ–º—ã Zod, –µ–¥–∏–Ω—ã–π SSO (Keycloak/JWT).
- Edge‚Äë—Å–∏–º—É–ª—è—Ç–æ—Ä —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ (15‚Äë–º–∏–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã).
- –ö–∞—Ä–∫–∞—Å Admin (Vue) –∏ Public (React).

### –ù–æ—è–±—Ä—å 2025 (–¥–≤–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏)

**1‚Äì15 –Ω–æ—è:** Identity/Wallet, —Ç–∞–±–ª–∏—Ü—ã `energy_intervals`, Token Engine (QA/–¥–µ–¥—É–ø), Oracle mock, GC‚ÄëGuard –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏ –≤ Admin.

**16‚Äì30 –Ω–æ—è:** ERC‚Äë1155 (–º–∏–Ω—Ç), DAO Treasury (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —Ä–µ–∑–µ—Ä–≤ 1‚Äì3%), GCM (ERC‚Äë20), Exchange Router (stub), Observability v1.

### –î–µ–∫–∞–±—Ä—å 2025 (–¥–≤–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏)

**1‚Äì15 –¥–µ–∫:** –ë–∞–Ω–∫‚Äësandbox, KYC/KYB/AML —Ñ–ª–æ—É, Payments API (—ç—Å–∫—Ä–æ—É), International view (–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã), Storage stub, –æ—Ñ–ª–∞–π–Ω‚Äë–±—É—Ñ–µ—Ä Edge, security baseline.

**16‚Äì31 –¥–µ–∫:** E2E‚Äë–¥–µ–º–æ: —Å—Ç–∞–Ω—Ü–∏—è‚Üí–º–∏–Ω—Ç‚Üí—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ‚Üí–æ–±–º–µ–Ω–Ω–∏–∫‚Üí–±–∞–Ω–∫. Legal/Threat‚Äëmodel review, –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã, beta‚Äëfreeze.

### –Ø–Ω–≤–∞—Ä—å 2026

**1‚Äì15 —è–Ω–≤:** Prod‚Äë–æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∫–ª—é—á–∏/—Å–µ–∫—Ä–µ—Ç—ã, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –æ–±—É—á–µ–Ω–∏–µ, –∑–∞–ø—É—Å–∫ –ø–∏–ª–æ—Ç–∞ (1‚Äì2 —Å—Ç–∞–Ω—Ü–∏–∏).

**16‚Äì31 —è–Ω–≤:** –ü–∏–ª–æ—Ç–Ω–∞—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è, —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫, –ø–ª–∞–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 9) –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (DoD)

**MVP (–¥–µ–∫–∞–±—Ä—å, –±–µ—Ç–∞‚Äëfreeze):**

- kWh‚Äë–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è, QA‚Äë–ø–æ–º–µ—Ç–∫–∏, —Ä–∞—Å—á—ë—Ç E_netWh.
- –ú–∏–Ω—Ç ERC‚Äë1155 –≤ DAO Treasury, –æ—Ç—á—ë—Ç—ã –ø–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é.
- GCM ERC‚Äë20 –∏ –±–∞–∑–æ–≤—ã–µ –æ–±–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
- –ê–¥–º–∏–Ω –∏ –ü–∞–±–ª–∏–∫ UI –¥–æ—Å—Ç—É–ø–Ω—ã; Demo/Live –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ.
- GC‚ÄëGuard: KYC/AML, –ø–æ–ª–∏—Ç–∏–∫–∏ –º–∏–Ω—Ç–∞/—Ä–µ–∑–µ—Ä–≤–∞, –∂—É—Ä–Ω–∞–ª—ã.

**–ü–∏–ª–æ—Ç (—è–Ω–≤–∞—Ä—å):**

- –ë–∞–Ω–∫‚Äë—à–ª—é–∑ (–ø–µ—Å–æ—á–Ω–∏—Ü–∞‚Üí–ø—Ä–æ–¥), —ç—Å–∫—Ä–æ—É –ø–ª–∞—Ç–µ–∂–∏.
- 1‚Äì2 —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏/–Ω–∞–∫–æ–ø–∏—Ç–µ–ª–∏, –æ—Ñ–ª–∞–π–Ω‚Äë–±—É—Ñ–µ—Ä –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ 2 —Ä–∞–∑–∞/—Å—É—Ç–∫–∏.
- –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ SLO/SLA.

---

## 10) –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (RACI)

| –î–æ–º–µ–Ω–∞/–∑–∞–¥–∞—á–∞ | R | A | C | I |
| --- | --- | --- | --- | --- |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —è–¥—Ä–∞ | Lead Architect | CTO | Leads (BE/FE/BC/DevOps) | –í—Å–µ |
| Admin (Vue) | FE‚ÄëVue Lead | FE Head | UX, BE | Stakeholders |
| Public (React) | FE‚ÄëReact Lead | FE Head | UX, BE, Marketing | Stakeholders |
| Token Engine/Oracle | BE Lead | CTO | BC Lead, Data | Legal |
| DAO/Treasury | BC Lead | CTO | Finance, Legal | Stakeholders |
| Exchange/Bank | FinTech Lead | COO | Bank Partner, Legal | Finance |
| GC‚ÄëGuard | Compliance Lead | CISO | Legal, BE | Board |
| DevOps/SRE | DevOps Lead | CTO | All Tech Leads | All |

R ‚Äî Responsible, A ‚Äî Accountable, C ‚Äî Consulted, I ‚Äî Informed.

---

## 11) –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã

- **–î–≤–æ–π–Ω–æ–π —Ñ—Ä–æ–Ω—Ç (Vue/React):** –µ–¥–∏–Ω—ã–π UI‚Äë–∫–∏—Ç (Figma+Storybook), –º–æ–Ω–æ—Ä–µ–ø–æ, –æ–±—â–∏–µ —Ç–æ–∫–µ–Ω—ã —Ç–µ–º—ã.
- **–ë–∞–Ω–∫‚Äë–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** —Ä–∞–Ω–Ω–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü—É, –∫–æ–Ω—Ç—Ä–∞–∫—Ç SLA, fallback —Å—Ü–µ–Ω–∞—Ä–∏–∏.
- **–ö—Ä–∏–ø—Ç–æ/–∫–æ–º–ø–ª–∞–µ–Ω—Å:** –∂—ë—Å—Ç–∫–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –º–∏–Ω—Ç–∞/—Ä–µ–∑–µ—Ä–≤–æ–≤, –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤ (WORM), –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏/—Ä–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å.
- **–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è/–æ—Ñ–ª–∞–π–Ω:** –æ—Ñ–ª–∞–π–Ω‚Äë–±—É—Ñ–µ—Ä Edge, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ 2√ó/—Å—É—Ç–∫–∏, –ø–æ–º–µ—Ç–∫–∏ estimated.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** backpressure –Ω–∞ —Ç–∏–∫–µ—Ä–∞—Ö 1/3/5/7 —Å–µ–∫, –∫—ç—à Redis, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## 12) –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ —Ä–∏—Ç—É–∞–ª—ã

- **SteerCo (–¥–∏—Ä–µ–∫—Ü–∏—è):** 1√ó –≤ 2 –Ω–µ–¥–µ–ª–∏, —Å—Ç–∞—Ç—É—Å/—Ä–∏—Å–∫–∏/—Ä–µ—à–µ–Ω–∏—è.
- **–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –¥–µ–π–ª–∏:** –ø–æ —Å—Ç—Ä–∏–º–∞–º (FE/BE/BC/DevOps), 15 –º–∏–Ω.
- **–î–µ–º–æ‚Äë—Å–µ—Å—Å–∏–∏:** —Ä–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏, –µ–¥–∏–Ω—ã–π —Å—Ç–µ–Ω–¥.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** Notion + OpenAPI + –¥–∏–∞–≥—Ä–∞–º–º—ã (Mermaid).

---

## 13) –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–º–∏–Ω–∏–º—É–º)

- **POST /api/telemetry/intervals** ‚Äî kWh‚Äë–∏–Ω—Ç–µ—Ä–≤–∞–ª (15 –º–∏–Ω).
- **POST /api/oracle/sign** ‚Äî –ø–æ–¥–ø–∏—Å—å eNetWh.
- **POST /api/treasury/mint** ‚Äî –≤—ã–ø—É—Å–∫ –ø–∞—Ä—Ç–∏–∏ E‚ÄëToken.
- **GET /api/treasury/reports** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è/—Ä–µ–∑–µ—Ä–≤—ã.
- **POST /api/exchange/quote|trade** ‚Äî –æ–±–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
- **POST /api/bank/pay|payout|escrow** ‚Äî –±–∞–Ω–∫‚Äë—à–ª—é–∑.
- **POST /api/gcguard/kyc|aml** ‚Äî –∫–æ–º–ø–ª–∞–µ–Ω—Å‚Äë–ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

---

## 14) –ì–ª–æ—Å—Å–∞—Ä–∏–π (–∫—Ä–∞—Ç–∫–æ)

- **E‚ÄëToken (E)** ‚Äî —É—á—ë—Ç–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —ç–Ω–µ—Ä–≥–∏–∏ (ERC‚Äë1155 –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º).
- **GCM** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω–¥–µ–∫—Å‚Äë—Ç–æ–∫–µ–Ω (ERC‚Äë20).
- **E_netWh** ‚Äî —á–∏—Å—Ç–∞—è —ç–Ω–µ—Ä–≥–∏—è –∫ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª.
- **GC‚ÄëGuard** ‚Äî –ø—Ä–∞–≤–æ–≤–æ–π/–∫–æ–º–ø–ª–∞–µ–Ω—Å‚Äë–∫–æ–Ω—Ç—É—Ä (KYC/AML/MRV).
- **Demo/Live Switch** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞/—Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## 15) –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ø—Ä–∏–Ω—Ü–∏–ø ¬´–∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è¬ª

**–≠–Ω–µ—Ä–≥–æ–±–∞–ª–∞–Ω—Å:** E_tot = Œ£P_gen ‚àí Œ£P_cons ‚áí –≤ kWh‚Äë—Å—Ö–µ–º–µ E_tot ‚â° Œ£E_netWh.

**–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è:** Œ£(N√óS) ‚â§ E_tot (mint policy –Ω–∞ —É—Ä–æ–≤–Ω–µ Oracle/Treasury).

**–≠–∫–æ–Ω–æ–º–∏–∫–∞:** GDP = Œ£[P_prod√óPrice] + Œ£(N√óS) + Grant_tot.

---

## 16) –ë–∏—Ä–∂–µ–≤–æ–π –∏ –∫–æ—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ–Ω—Ç—É—Ä

### 16.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ö–æ—Ç–∏—Ä–æ–≤–æ—á–Ω–æ‚Äë–±–∏—Ä–∂–µ–≤–æ–π –∫–æ–Ω—Ç—É—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π –æ–±–º–µ–Ω –º–µ–∂–¥—É –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ (E/H/AGR/SRV/CRB), –∏–Ω–¥–µ–∫—Å‚Äë—Ç–æ–∫–µ–Ω–æ–º **GCM** –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –≤–∞–ª—é—Ç–Ω—ã–º–∏ —à–ª—é–∑–∞–º–∏ (–±–∞–Ω–∫/–¶–§–ê/CBDC). –¶–µ–ª–∏: –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Ä–∞—Å—á—ë—Ç—ã –≤–Ω—É—Ç—Ä–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –∏ —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –±–∞–Ω–∫‚Äë–ø–∞—Ä—Ç–Ω—ë—Ä–∞.

### 16.2 –°—Ö–µ–º–∞ –º–æ–¥—É–ª–µ–π (–≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏)

```mermaid
flowchart LR
  subgraph MorNet Core
    T[Token Engine]
    D[Treasury / DAO]
    E[Exchange Router]
    Q[Quote Engine]
    O[Order Book / Matching]
    F[FX / Bank Gateway]
    G[GC-Guard Audit]
  end

  subgraph External
    B[(Bank Partner / ISO 20022)]
    C[(CBDC Platform)]
    M[(BRICS+ FX Corridors)]
  end

  T --> D --> E --> O --> F
  Q --> E
  F --> B & C & M
  G -. audit .- O & F

```

### 16.3 –¢–∏–ø—ã —Ä—ã–Ω–∫–æ–≤

- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä—ã–Ω–æ–∫ (DEX):** –ø–∞—Ä—ã –¥–æ–º–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∫ –∏–Ω–¥–µ–∫—Å—É GCM; –≥–∏–±—Ä–∏–¥ AMM + –æ—Ä–¥–µ—Ä‚Äë–±—É–∫; —Ü–µ–ª–µ–≤–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤.
- **–§–∏–∞—Ç–Ω—ã–π —Ä—ã–Ω–æ–∫ (FX):** GCM ‚Üî —Ñ–∏–∞—Ç —á–µ—Ä–µ–∑ –±–∞–Ω–∫‚Äë—à–ª—é–∑ (ISO 20022), –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤–∞–ª—é—Ç (CBDC) –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ/–ø—Ä–æ–¥–µ.
- **NFT/Utility:** —Ç–æ—Ä–≥–æ–≤–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (Culture/Service/Carbon), —Ä–∞—Å—á—ë—Ç—ã —á–µ—Ä–µ–∑ GCM.

### 16.4 –¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ä –∏ —Ç–∏–∫–µ—Ä–æ–≤ (MVP)

| –†—ã–Ω–æ–∫ | –ü–∞—Ä—ã | –¢–∏–∫–µ—Ä (—Å–µ–∫) | –ê–ª–≥–æ—Ä–∏—Ç–º | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
| --- | --- | --- | --- | --- |
| –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DEX | **E/GCM**, **H/GCM**, **AGR/GCM**, **SRV/GCM**, **CRB/GCM** | 1 / 3 / 5 / 7 | AMM + Order Book | –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç Quote Engine |
| –ú–µ–∂–¥–æ–º–µ–Ω–Ω—ã–π | **E/AGR**, **E/SRV** (–≤—Ç–æ—Ä–∏—á–Ω—ã–µ) | 3 / 5 | –û—Ä–¥–µ—Ä‚Äë–±—É–∫ | –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Exchange Router |
| –§–∏–∞—Ç–Ω—ã–π FX | **GCM/RUB**, **GCM/CNY** (—á–µ—Ä–µ–∑ –±–∞–Ω–∫) | –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ | –≠—Å–∫—Ä–æ—É/ISO‚Äë20022 | KYC/AML, –ª–∏–º–∏—Ç—ã 115‚Äë–§–ó |
| NFT/Utility | **NFT/GCM**, **SERVICE/GCM** | 5 / 7 | –ê—É–∫—Ü–∏–æ–Ω/—Ñ–∏–∫—Å | –æ—Ç—á—ë—Ç—ã –≤ GC‚ÄëGuard |

### 16.5 –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å

- **Quote Engine ‚Üí UI/API:** –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –∏ –∏–Ω–¥–µ–∫—Å–æ–≤ (WebSocket + REST).
- **Order Book:** –ª–∏–º–∏—Ç–Ω—ã–µ/—Ä—ã–Ω–æ—á–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞, –º–∞—Ç—á–∏–Ω–Ω–≥, —ç—Å–∫—Ä–æ—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- **FX Gateway ‚Üî Bank/CBDC:** –≤–≤–æ–¥/–≤—ã–≤–æ–¥, –≤—ã–ø–∏—Å–∫–∏, —Å—Ç–∞—Ç—É—Å—ã (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ).
- **GC‚ÄëGuard:** KYC/KYB/AML, –ø–æ–ª–∏—Ç–∏–∫–∏ –ª–∏–º–∏—Ç–æ–≤, WORM‚Äë–∞—É–¥–∏—Ç —Å–¥–µ–ª–æ–∫.

### 16.6 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–¥–µ–ª—å—Ç–∞ –∫ ¬ß13)

- **WS /ws/quotes** ‚Äî —Ç–∏–∫–∏ 1/3/5/7 —Å–µ–∫
- **GET /api/quotes?pair=PAIR** ‚Äî —Ç–µ–∫—É—â–∞—è –∫–æ—Ç–∏—Ä–æ–≤–∫–∞
- **GET /api/orderbook?pair=PAIR** ‚Äî –≥–ª—É–±–∏–Ω–∞ —Ä—ã–Ω–∫–∞

---

## 17) –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏ –∫–æ—à–µ–ª—ë–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 17.1 –°—Ö–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Frontend + Backend + Bank)

```mermaid
flowchart LR
  subgraph Frontend
    R[Public App (React/Next.js)\nUser Portal]
    V[Admin App (Vue 3 + Naive UI)\nOps & Treasury]
  end

  subgraph Core Backend (MorNet)
    A[API Gateway / Auth]
    I[Identity / SSO]
    W[Wallet Service]
    T[Token Engine]
    D[Treasury / DAO]
    X[Exchange Router]
    G[GC-Guard Adapter]
  end

  subgraph Bank/CBDC
    B[(Bank API ‚Äî ISO 20022)]
    C[(CBDC Platform)]
  end

  R <--> A
  V <--> A
  A <--> I
  A <--> W
  T --> D
  W <--> D
  W <--> X
  X <--> B & C
  G -. audit .- W & D & X

```

![image.png](image.png)

### 17.2 –¢–∞–±–ª–∏—Ü–∞ —Ñ—É–Ω–∫—Ü–∏–π –∫–∞–±–∏–Ω–µ—Ç–∞ (User Portal)

| –†–∞–∑–¥–µ–ª | –§—É–Ω–∫—Ü–∏–∏ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
| --- | --- | --- |
| **Dashboard** | –°–æ–≤–æ–∫—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å (E/H/AGR/SRV/GCM), –≥—Ä–∞—Ñ–∏–∫–∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫, —Å—Ç–∞—Ç—É—Å—ã | Recharts, WS‚Äë—Ç–∏–∫–µ—Ä—ã 1/3/5/7 —Å–µ–∫ |
| **Wallet** | –ê–¥—Ä–µ—Å–∞/—Ä–µ–∫–≤–∏–∑–∏—Ç—ã, –≤–≤–æ–¥/–≤—ã–≤–æ–¥, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã, –º–µ—Ç–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è | Custodial/Non‚Äëcustodial, whitelist |
| **Transactions** | –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã, —Å—Ç–∞—Ç—É—Å—ã –±–∞–Ω–∫–∞/—ç—Å–∫—Ä–æ—É | –≠–∫—Å–ø–æ—Ä—Ç CSV/PDF |
| **Invest / DAO** | –£—á–∞—Å—Ç–∏–µ –≤ –ø—É–ª–∞—Ö, –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è | –°–≤—è–∑—å —Å Treasury |
| **NFT / Assets** | NFT‚Äë–ø–∞—Å–ø–æ—Ä—Ç–∞, —Å–µ—Ä–≤–∏—Å‚Äë—Ç–æ–∫–µ–Ω—ã/–±–∏–ª–µ—Ç—ã | –í–∏—Ç—Ä–∏–Ω–∞ + –∫–æ—à–µ–ª—ë–∫ |
| **Profile / KYC** | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –ª–∏–º–∏—Ç—ã, —Å—Ç–∞—Ç—É—Å—ã AML | GC‚ÄëGuard –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| **Settings / Security** | 2FA/TOTP, –ø—Ä–∏–≤—è–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | Recovery‚Äë–ø–æ–ª–∏—Ç–∏–∫–∏ |

### 17.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–¥–µ–ª—å—Ç–∞ –∫ ¬ß13)

- **WS /ws/wallet** ‚Äî —Å–æ–±—ã—Ç–∏—è: –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è/–≤—ã–≤–æ–¥—ã/–æ—Ä–¥–µ—Ä–∞

---

## 18) –£–º–Ω—ã–π –¥–æ–º, —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –º–æ–Ω–µ—Ç–∞ GCC

### 18.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å—É—Ç—å –º–æ–¥–µ–ª–∏

**–£–º–Ω—ã–π –¥–æ–º** —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ü–∏—Ñ—Ä–æ–≤–æ–π —é–Ω–∏—Ç —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã —Å –∫–æ—à–µ–ª—å–∫–æ–º (`wallet.homeID`) –∏ –±–∞–ª–∞–Ω—Å–æ–º —Ç–æ–∫–µ–Ω–æ–≤. –í—Å–µ –∏–∑–º–µ—Ä—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã/—Å–µ—Ä–≤–∏—Å—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ **—É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (Utility Tokens)**, –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π **–∏–Ω–¥–µ–∫—Å‚Äë—Ç–æ–∫–µ–Ω `GCM`**, –∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –Ω–∞ **–≤–Ω–µ—à–Ω—é—é –º–æ–Ω–µ—Ç—É `GCC`** –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤ —á–µ—Ä–µ–∑ –±–∞–Ω–∫/–±–∏—Ä–∂—É.

### 18.2 –ò–µ—Ä–∞—Ä—Ö–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü

| –£—Ä–æ–≤–µ–Ω—å | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—É—â–Ω–æ—Å—Ç—å | –ì–¥–µ –∂–∏–≤—ë—Ç | –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–≤—è–∑–∫–∏ |
| --- | --- | --- | --- | --- |
| I. Utility | `E`, `H`, `W`, `AGR`, `SRV`, `CRB`, `DATA`, `EFF`, `DEV` | —É—á—ë—Ç —Ä–µ—Å—É—Ä—Å–æ–≤/—É—Å–ª—É–≥/ESG/–¥–∞–Ω–Ω—ã—Ö | MorNet (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—É—Ä) | `1 –∫–í—Ç‚ãÖ—á ‚Üí 1 E` |
| II. Index | `GCM` | –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç Utility –ø–æ –≤–µ—Å–∞–º DAO | DAO Treasury (EVM) | `10 Utility ‚Üí 10 GCM` |
| III. Coin | `GCC` | –≤–Ω–µ—à–Ω—è—è –º–æ–Ω–µ—Ç–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤/–≤—ã–≤–æ–¥–∞ | —à–ª—é–∑—ã, –±–∞–Ω–∫/–±–∏—Ä–∂–∞ | `100 GCM ‚âà 1 GCC` (–ø—Ä–∏–º–µ—Ä) |

### 18.3 –°—Ö–µ–º–∞ (–¥–æ–º ‚Üí Treasury ‚Üí –±–∞–Ω–∫)

```mermaid
flowchart LR
  subgraph Home/MorNet
    E[E-Token]
    H[H-Token]
    W[W-Token]
    C[CRB]
    D[DATA]
    V[EFF]
  end
  subgraph Treasury/DAO
    GCM[GCM Index Token]
  end
  subgraph Gateways
    GCC[üí∞ GCC Coin]
    BANK[–ë–∞–Ω–∫/–ë–∏—Ä–∂–∞/CBDC]
  end
  E & H & W & C & D & V --> GCM --> GCC --> BANK

```

### 18.4 –ù–∞–±–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤ —É–º–Ω–æ–≥–æ –¥–æ–º–∞ (–∂–∏–ª–æ–π / —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π)

| –ì—Ä—É–ø–ø–∞ | –¢–æ–∫–µ–Ω | –ò—Å—Ç–æ—á–Ω–∏–∫ –∏–∑–º–µ—Ä–µ–Ω–∏—è | –ï–¥–∏–Ω–∏—Ü–∞ |
| --- | --- | --- | --- |
| –≠–Ω–µ—Ä–≥–∏—è | `E` | —Å—á—ë—Ç—á–∏–∫ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ | –∫–í—Ç‚ãÖ—á |
| –¢–µ–ø–ª–æ/–≥–∞–∑ | `H` | —Å—á—ë—Ç—á–∏–∫ –≥–∞–∑–∞/—Ç–µ–ø–ª–∞ | –º¬≥ / –ì–∫–∞–ª / –∫–í—Ç‚ãÖ—á |
| –í–æ–¥–∞ | `W` | —Å—á—ë—Ç—á–∏–∫ –≤–æ–¥—ã | –º¬≥ |
| ESG/—É–≥–ª–µ—Ä–æ–¥ | `CRB` | –º–µ—Ç–æ–¥–∏–∫–∞ MRV (–ø–æ —ç–Ω–µ—Ä–≥–∏–∏/—Ç–æ–ø–ª–∏–≤—É) | —ÇCO‚ÇÇe (–≤ –¥–æ–ª—è—Ö) |
| –î–∞–Ω–Ω—ã–µ IoT | `DATA` | –ø–∞–∫–µ—Ç—ã —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏/—Å–æ–±—ã—Ç–∏–π | –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –µ–¥. |
| –≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | `EFF` | % —ç–∫–æ–Ω–æ–º–∏–∏ –∫ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏ | –Ω–æ—Ä–º. –µ–¥. |
| –°–µ—Ä–≤–∏—Å—ã | `SRV` | —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞—Ä–µ–Ω–¥—ã/—É—Å–ª—É–≥ | –æ–ø–µ—Ä–∞—Ü–∏—è/–µ–¥. |
| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | `DEV` | –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–æ–±–æ—Ç–æ–≤/—É–º–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ | –Ω–æ—Ä–º. –µ–¥. |

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:* –≤ —Ä–∞–º–∫–∞—Ö **MVP (¬ß2)** –∞–∫—Ç–∏–≤–µ–Ω —Ç–æ–ª—å–∫–æ **E**; –æ—Å—Ç–∞–ª—å–Ω—ã–µ Utility ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **post‚ÄëMVP (–æ–∫–Ω–æ Q1‚Äô26)**.

### 18.5 –î–æ–º –∫–∞–∫ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∞–≥–µ–Ω—Ç

```
Income_home = Œ±¬∑E + Œ≤¬∑H + Œ≥¬∑W + Œ¥¬∑EFF + Œµ¬∑DATA + Œ∂¬∑SRV ‚àí —à—Ç—Ä–∞—Ñ—ã(–Ω–∞—Ä—É—à–µ–Ω–∏—è/–ø–æ—Ç–µ—Ä–∏)

```

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã Œ±‚Ä¶Œ∂ —É—Ç–≤–µ—Ä–∂–¥–∞—é—Ç—Å—è DAO, —à—Ç—Ä–∞—Ñ—ã/–±–æ–Ω—É—Å—ã ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ GC‚ÄëGuard.

### 18.6 –ü—Ä–æ—Ü–µ—Å—Å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã 15 –º–∏–Ω)

1. –°—ä—ë–º –ø–æ–∫–∞–∑–∞–Ω–∏–π (`meterWh`, `water_m3`, `gas_m3` ‚Ä¶)
2. –†–∞—Å—á—ë—Ç `E_netWh` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç commercial meter, fallback)
3. –ú–∏–Ω—Ç Utility (`E`, –¥–∞–ª–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
4. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤ `GCM` (1:1 –ª–∏–±–æ –ø–æ –≤–µ—Å–∞–º DAO)
5. –ü–æ –∑–∞–ø—Ä–æ—Å—É: –æ–±–º–µ–Ω `GCM ‚Üí GCC` (–±–∞–Ω–∫/–±–∏—Ä–∂–∞)
6. GC‚ÄëGuard: KYC/AML, ESG/MRV, WORM‚Äë–∞—É–¥–∏—Ç

### 18.7 UI/UX –±–ª–æ–∫ ‚ÄúSmart Home‚Äù

**Overview / Meters / Tokens / Devices / ESG / Settings** ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ 15‚Äë–º–∏–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ñ–ª–∞–≥–∏ `estimated`, –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ `GCM/GCC`.

---

## 19) –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤: Utility ‚Üí Index ‚Üí Coin (GCC)

### 19.1 –°–ª–æ–∏ –∞–∫—Ç–∏–≤–æ–≤

| –£—Ä–æ–≤–µ–Ω—å | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—É—â–Ω–æ—Å—Ç—å | –ì–¥–µ –∂–∏–≤—ë—Ç | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| --- | --- | --- | --- | --- |
| I | **Utility Tokens** (E/H/W/AGR/SRV/CRB/DATA/EFF/DEV) | —É—á—ë—Ç —Ä–µ—Å—É—Ä—Å–æ–≤/—É—Å–ª—É–≥/ESG/–¥–∞–Ω–Ω—ã—Ö | MorNet Core (on‚Äë/off‚Äëchain, ERC‚Äë1155) | –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏, —É—á—ë—Ç |
| II | **GCM** (Index Token) | –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä Utility –ø–æ –≤–µ—Å–∞–º DAO | Treasury/DAO (ERC‚Äë20) | –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–∞—Å—á—ë—Ç—ã, –∏–Ω–¥–µ–∫—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ |
| III | **GCC** (Coin) | –≤–Ω–µ—à–Ω—è—è –º–æ–Ω–µ—Ç–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã | —à–ª—é–∑—ã/–±–∞–Ω–∫/–±–∏—Ä–∂–∞ | –≤–≤–æ–¥/–≤—ã–≤–æ–¥, –º–µ–∂–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã |

### 19.2 –°–≤—è–∑–∏ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—è

```mermaid
flowchart LR
  U["Utility (E/H/W/...)"] --> I["GCM Index"]
  I --> C["GCC Coin"]
  C <--> B[(–ë–∞–Ω–∫/CBDC/FX)]
```

- Utility ‚Üí GCM: 1:1 –ª–∏–±–æ –ø–æ –≤–µ—Å–∞–º DAO (—Å–º. ¬ß5, ¬ß7)
- GCM ‚Üí GCC: –∫—É—Ä—Å ‚Äî –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ/–±–∏—Ä–∂–µ–≤–æ–π –∫–æ–Ω—Ç—É—Ä (—Å–º. ¬ß16), –ª–∏–º–∏—Ç—ã ‚Äî GC‚ÄëGuard
- GCC ‚Üî —Ñ–∏–∞—Ç/CBDC: –±–∞–Ω–∫‚Äë—à–ª—é–∑ (ISO 20022), KYC/KYB/AML (—Å–º. ¬ß11)

### 19.3 –ö–æ–º–ø–ª–∞–µ–Ω—Å

Utility/GCM ‚Äî **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ç—É—Ä** (—É—á—ë—Ç/–∏–Ω–¥–µ–∫—Å), GCC ‚Äî **–≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç—É—Ä** (—Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –±–∞–Ω–∫–æ–º). –ê—É–¥–∏—Ç –∏ MRV ‚Äî —á–µ—Ä–µ–∑ GC‚ÄëGuard, WORM‚Äë–∂—É—Ä–Ω–∞–ª—ã, RBAC.

---

## 20) –®–∞–±–ª–æ–Ω—ã UI (Figma‚Äë—Å–ø–µ–∫–∞) ‚Äî —ç–∫—Ä–∞–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

> –¶–µ–ª—å: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å UX –º–µ–∂–¥—É Vue‚ÄëAdmin –∏ React‚ÄëPublic, –æ–±–µ—Å–ø–µ—á–∏—Ç—å –µ–¥–∏–Ω—ã–π UI‚Äë–∫–∏—Ç. –ù–∏–∂–µ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã, –∫–ª—é—á–µ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Figma.
> 

### 20.1 User Portal (React)

**Dashboard**

–°–µ–∫—Ü–∏–∏: –ë–∞–ª–∞–Ω—Å (E/H/W/GCM), –ì—Ä–∞—Ñ–∏–∫–∏ (15‚Äë–º–∏–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã), –ö–æ—Ç–∏—Ä–æ–≤–∫–∏ (—Ç–∏–∫–µ—Ä—ã 1/3/5/7 —Å–µ–∫), –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –°—Ç–∞—Ç—É—Å—ã –±–∞–Ω–∫–∞/KYC.

–°–æ—Å—Ç–æ—è–Ω–∏—è: `loading`, `empty`, `live`, `error(WS)`.

–°–æ–±—ã—Ç–∏—è: `subscribeQuotes(pair)`, `toggleRange(24h/7d)`, `viewTx(txId)`.

**Wallet**

–°–µ–∫—Ü–∏–∏: –ê–¥—Ä–µ—Å–∞/—Ä–µ–∫–≤–∏–∑–∏—Ç—ã, –í–≤–æ–¥ (on‚Äëramp), –í—ã–≤–æ–¥ (off‚Äëramp/—ç—Å–∫—Ä–æ—É), –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã.

–°–æ—Å—Ç–æ—è–Ω–∏—è: `kyc_required`, `limit_exceeded`, `awaiting_bank_status`.

–°–æ–±—ã—Ç–∏—è: `createWithdraw()`, `copyAddress()`, `setWhitelist()`.

**Smart Home**

–°–µ–∫—Ü–∏–∏: Overview, Meters (E/H/W), Tokens, Devices, ESG.

–°–æ—Å—Ç–æ—è–Ω–∏—è: `estimated_interval`, `gap_detected`, `oracle_signed`.

–°–æ–±—ã—Ç–∏—è: `exportCSV()`, `flagInterval()`.

**Exchange**

–°–µ–∫—Ü–∏–∏: –ü–∞—Ä—ã, Order Book, –í–≤–æ–¥ –æ—Ä–¥–µ—Ä–∞ (market/limit), –ò—Å—Ç–æ—Ä–∏—è.

–°–æ—Å—Ç–æ—è–Ω–∏—è: `no_liquidity`, `partial_fill`, `escrow_hold`.

–°–æ–±—ã—Ç–∏—è: `placeOrder()`, `cancelOrder()`, `subscribeDepth()`.

### 20.2 Admin Portal (Vue)

**Stations & Telemetry** ‚Äî —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤, —Å—Ç–∞—Ç—É—Å—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏, QA‚Äë—Ç–µ–≥–∏, —Ä—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ (–ø–æ–¥ —Ä–æ–ª—è–º–∏).

**Treasury** ‚Äî –ø–∞—Ä—Ç–∏–∏ –º–∏–Ω—Ç–∞, —Ä–µ–∑–µ—Ä–≤—ã, –æ—Ç—á—ë—Ç—ã, –ø–æ–ª–∏—Ç–∏–∫–∏.

**GC‚ÄëGuard** ‚Äî KYC/KYB/AML —Å—Ç–∞—Ç—É—Å—ã, –ø—Ä–∞–≤–∏–ª–∞ –ª–∏–º–∏—Ç–æ–≤, –∂—É—Ä–Ω–∞–ª—ã, —ç–∫—Å–ø–æ—Ä—Ç WORM.

**Bank Gateway** ‚Äî –ø–ª–∞—Ç–µ–∂–∏, —Å—Ç–∞—Ç—É—Å—ã ISO 20022, —Å–≤–µ—Ä–∫–∞, –≤—ã–≥—Ä—É–∑–∫–∞ –≤—ã–ø–∏—Å–æ–∫.

### 20.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI‚Äë–∫–∏—Ç–∞ (–æ–±—â–∏–µ)

- –ö–∞—Ä—Ç–æ—á–∫–∏ (`Card`), –¢–∞–±–ª–∏—Ü—ã (`DataGrid`), –ì—Ä–∞—Ñ–∏–∫–∏ (Recharts), –§–æ—Ä–º—ã (Zod + RHF), –¢–æ—Å—Ç—ã, –ú–æ–¥–∞–ª–∫–∏, –ü—ç–π–¥–∂–µ—Ä, Breadcrumbs, Empty/Loading/Error.
- –¢–æ–∫–µ–Ω—ã —Ç–µ–º—ã: `-gc-primary`, `-gc-bg`, `-gc-surface`, `-gc-success`, `-gc-warning`, `-gc-danger`.

---

## 21) DDL: –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (PostgreSQL + TimescaleDB)

> –¶–µ–ª—å: –¥–∞—Ç—å BE/DevOps —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ö–µ–º—É. –ò–º–µ–Ω–∞ –∏ —Ç–∏–ø—ã –º–æ–≥—É—Ç —É—Ç–æ—á–Ω—è—Ç—å—Å—è –ø–æ –∏—Ç–æ–≥–∞–º OpenAPI.
> 

### 21.1 –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã —ç–Ω–µ—Ä–≥–∏–∏ (hypertable)

```sql
CREATE TABLE energy_intervals (
  id              BIGSERIAL PRIMARY KEY,
  home_id         UUID NOT NULL,
  start_ts        TIMESTAMPTZ NOT NULL,
  end_ts          TIMESTAMPTZ NOT NULL,
  meter_wh        NUMERIC(18,6),
  water_m3        NUMERIC(18,6),
  gas_m3          NUMERIC(18,6),
  profile_hash    TEXT NOT NULL,
  oracle_sig      TEXT,
  quality         TEXT NOT NULL CHECK (quality IN ('raw','validated','estimated')),
  source          TEXT NOT NULL DEFAULT 'edge',
  created_at      TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- Timescale
SELECT create_hypertable('energy_intervals','start_ts', if_not_exists => TRUE);

CREATE INDEX ON energy_intervals (home_id, start_ts);
CREATE INDEX energy_intervals_valid_idx ON energy_intervals (home_id, start_ts)
  WHERE quality = 'validated';

```

### 21.2 –ë–∞–ª–∞–Ω—Å—ã Utility

```sql
CREATE TABLE utility_balances (
  home_id     UUID NOT NULL,
  token_code  TEXT NOT NULL CHECK (token_code IN ('E','H','W','AGR','SRV','CRB','DATA','EFF','DEV')),
  balance     NUMERIC(30,8) NOT NULL DEFAULT 0,
  updated_at  TIMESTAMPTZ NOT NULL DEFAULT now(),
  PRIMARY KEY (home_id, token_code)
);

```

### 21.3 –õ–µ–¥–∂–µ—Ä GCM

```sql
CREATE TABLE gcm_ledger (
  id            BIGSERIAL PRIMARY KEY,
  home_id       UUID NOT NULL,
  interval_id   BIGINT NOT NULL REFERENCES energy_intervals(id),
  amount_gcm    NUMERIC(30,8) NOT NULL,
  rate_map      JSONB NOT NULL, -- –≤–µ—Å–∞ Utility‚ÜíGCM
  created_at    TIMESTAMPTZ NOT NULL DEFAULT now()
);
CREATE INDEX ON gcm_ledger (home_id, created_at);

```

### 21.4 –ú–∏–Ω—Ç/–ö–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ

```sql
CREATE TABLE treasury_mints (
  id           BIGSERIAL PRIMARY KEY,
  batch_id     UUID NOT NULL,
  token_code   TEXT NOT NULL,
  amount       NUMERIC(30,8) NOT NULL,
  tx_hash      TEXT,
  created_at   TIMESTAMPTZ NOT NULL DEFAULT now()
);

```

### 21.5 –ë–∏—Ä–∂–µ–≤—ã–µ –æ—Ä–¥–µ—Ä–∞ –∏ —Å–¥–µ–ª–∫–∏

```sql
CREATE TABLE exchange_orders (
  id           BIGSERIAL PRIMARY KEY,
  user_id      UUID NOT NULL,
  pair         TEXT NOT NULL,    -- e.g. 'E/GCM'
  side         TEXT NOT NULL CHECK (side IN ('buy','sell')),
  type         TEXT NOT NULL CHECK (type IN ('market','limit')),
  price        NUMERIC(30,8),
  amount       NUMERIC(30,8) NOT NULL,
  status       TEXT NOT NULL CHECK (status IN ('new','partial','filled','cancelled')),
  escrow_id    UUID,
  created_at   TIMESTAMPTZ NOT NULL DEFAULT now()
);
CREATE INDEX ON exchange_orders (pair, status);

CREATE TABLE exchange_trades (
  id              BIGSERIAL PRIMARY KEY,
  pair            TEXT NOT NULL,
  price           NUMERIC(30,8) NOT NULL,
  amount          NUMERIC(30,8) NOT NULL,
  taker_order_id  BIGINT NOT NULL REFERENCES exchange_orders(id),
  maker_order_id  BIGINT NOT NULL REFERENCES exchange_orders(id),
  fee             NUMERIC(30,8) NOT NULL DEFAULT 0,
  created_at      TIMESTAMPTZ NOT NULL DEFAULT now()
);
CREATE INDEX ON exchange_trades (pair, created_at);

```

### 21.6 –ö–æ—à–µ–ª—å–∫–∏ –∏ KYC

```sql
CREATE TABLE wallet_accounts (
  id          UUID PRIMARY KEY,
  user_id     UUID NOT NULL,
  kind        TEXT NOT NULL CHECK (kind IN ('custodial','noncustodial','bank')),
  address     TEXT,
  public_key  TEXT,
  status      TEXT NOT NULL CHECK (status IN ('active','suspended','closed')),
  created_at  TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE TABLE kyc_records (
  id          BIGSERIAL PRIMARY KEY,
  user_id     UUID NOT NULL,
  status      TEXT NOT NULL CHECK (status IN ('pending','approved','rejected')),
  provider    TEXT NOT NULL,
  risk_score  NUMERIC(6,2),
  checked_at  TIMESTAMPTZ
);

```

---

## 22) –ü—Ä–∏–º–µ—Ä—ã —Å—Ö–µ–º API (—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã OpenAPI/Zod)

### 22.1 Payload –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ (POST /api/telemetry/intervals)

```json
{
  "homeId": "7f2c7d5b-...",
  "start": "2025-10-15T08:00:00Z",
  "end":   "2025-10-15T08:15:00Z",
  "meterWh": 1250.5,
  "waterM3": 0.012,
  "gasM3": 0.000,
  "profileHash": "0xabc...",
  "sign": "0xsig..."
}

```

### 22.2 –û—Ç–≤–µ—Ç –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ (GET /api/quotes?pair=E_GCM)

```json
{
  "pair": "E_GCM",
  "ts": "2025-10-15T09:50:01Z",
  "bid": "6.1023",
  "ask": "6.1031",
  "last": "6.1030",
  "tick": 1
}

```

---

## 23) –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (NFR)

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** OWASP ASVS L2, mTLS —Å–µ—Ä–≤–∏—Å‚Äë–∫‚Äë—Å–µ—Ä–≤–∏—Å—É, HSM/–ü–ö–ò, WORM‚Äë–∞—É–¥–∏—Ç ‚â• 7 –ª–µ—Ç.
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** RPO ‚â§ 15 –º–∏–Ω, RTO ‚â§ 1 —á–∞—Å; –æ—Ñ–ª–∞–π–Ω‚Äë–±—É—Ñ–µ—Ä Edge ‚â• 48 —á–∞—Å–æ–≤.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 5k —Ç–∏–∫–æ–≤/—Å–µ–∫ (–≤–Ω—É—Ç—Ä. –∫–æ—Ç–∏—Ä–æ–≤–∫–∏), 10k –æ—Ä–¥–µ—Ä‚Äë—Å–æ–±—ã—Ç–∏–π/–º–∏–Ω (–ø–∏–∫).
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:** —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ E2E (Jaeger), –∞–ª–µ—Ä—Ç—ã SLO (Prometheus Alertmanager).
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:** 152‚Äë–§–ó/–°–ö–ó–ò (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ), 115‚Äë–§–ó (KYC/AML), MRV –¥–ª—è ESG.

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Äî –≤–µ—Ä—Å–∏—è v1.4.0.**